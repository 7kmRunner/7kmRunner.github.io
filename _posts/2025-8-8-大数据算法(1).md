---
layout: post
title: "大数据算法(1)"
date: 2025-8-8
tags: [编程]
comments: true
author: Minrain
---
这几天玩游戏的时间变长，学习效率不高，今天开始调整。
### 快速排序期望比较次数分析
所谓快速排序，是指对于n个不同的数字，通过随机选择pivot，将数字划分为较pivot值大的部分和较pivot值小的部分递归解决，最终排序数组的方式。(一次迭代中作为pivot的数字不参与后续递归过程，迭代结束时已处于正确位置)

问题是:假设选中n个数字的概率是相同的，求证明比较次数的期望值为O(logn)。

解决求期望问题，根据本人现在的经验，一般有两种思路。第一，定义法。直接根据定义，结合某些变形、处理的技巧得出结果；第二，指示器变量法。将所求随机变量表示为指示器变量的和，利用期望的线性，转化问题为求指示器变量的期望。

最开始的思路是定义法。通过条件期望构造递推关系，如果能证明T(n) < 2T(n/2) + n-1,由主方法即完成证明。

实际操作卡在放缩一步。即证明T(i) + T(k-i) ≤ 2T(k/2)对所有i成立。试图通过数学归纳法证明，失败。

尝试第二种思路，指示器变量法。排序过程中，两个不同的数最多进行一次比较。因此我们可以这样表示总比较次数X:
$$  X = \sum_{1≤i<j≤n} X_{i,j}$$
其中 $X_{i,j}$ 满足:若第i个数和第j个数进行了比较,取1;否则取0。

从而有:
$$ E[X] = \sum_{1\leq i<j\leq n} E[X_{i,j}] $$
$E[X_{i,j}] = P(X_{i,j})$，只需求出第i，第j个值进行比较的概率。

一次选取，要么落到子数组[i,j]中，要么落在子数组[i,j]外。若落在[i,j]中，事件 $X_{i.j}$ 发生的概率即为 $\frac{2}{j-i+1}$；若落在[i,j]外，下一次选择依然是落在[i,j]内或落在[i,j]外。由此不断迭代，由于包含[i,j]的子数组每次至少要减少一个数作为pivot，那么有限步后一定只会剩下[i,j]。求和发现，所求概率即为 $\frac{2}{j-i+1}$。

从而我们解决了问题。

### 概率中的琴生(延森)不等式
对二阶导大于等于0的函数f(x)(也称凸函数)，以及任意随机变量X，有E[f(X)] ≥ f(E[X])。

证明是容易的，只需运用凸函数的性质:
$$ f(x) \geq f'(c)(x-c) + f(c) ,\forall c $$
选取 $ c = E[X]$,两边同时取期望，即得不等式。

### 马尔科夫不等式
对非负随机变量X，任取a>0，有
$$ P(X \geq a) \leq \frac{E[X]}{a} $$

证明同样是简单的，$P(X≥a) = E[I_a]$,其中 $I_a$ 为事件X≥a的示性函数。只需证明 $aI_a \leq X$，验证知不等式成立。

### 切比雪夫不等式
对任意a>0,有
$$ P(|X-E[X]|≥a) \leq \frac{Var[X]}{a^2} $$

由于 $Var[X] = E[(X-E[X])^2] ，\{|X-E[X]|≥a\}=\{(X-E[X])^2≥a^2\}$,只需将马尔科夫不等式中的 $X$ 替换为 $(X-E[X])^2$ 即得结果。

### 矩生成函数及切尔诺夫界
矩生成函数，Moment Generate Function(MGF)。对一个随机变量X，其MGF的表示为 $M_X(t) = E[e^{tX}]$,具有如下性质:

1.$E[X^n] = M_X^{(n)}(0).$

2.$M_{X+Y}(t) = M_X(t)·M_Y(t)$(X,Y独立)

证明与验证是平凡的，只需要一点数学分析的知识。将期望展开成积分，1.满足积分与求导换序条件；2.双重积分拆开即得。

切尔诺夫界：对n个伯努利随机变量 $X_i$,每个有 $p_i$ 的概率发生。记 $μ=\sum_{i=1}^{n} p_i, X = \sum_{i=1}^{n} X_i$,则有
$$ P(X \geq kμ) \leq (\frac{e^{k-1}}{k^k})^μ,\forall k>0 $$
$$ P(X \geq kμ) \leq e^{-\frac{μ(k-1)^2}{3}},\forall 1<k<2$$
$$ P(X \leq kμ) \leq (\frac{e^{k-1}}{k^k})^μ,\forall 0<k<1$$
$$ P(X \geq kμ) \leq e^{-\frac{μ(k-1)^2}{2}},\forall 0<k<1$$
证明是容易的，如第一个不等式，将 $P(X \leq kμ)$ 变形为 $P(e^{tX} \leq e^{tkμ})$。对其使用马尔科夫不等式，再讨论参数t，使最终结果取到最小值即得。

第二个不等式，只需证明在给定的参数范围下，一的右式小于等于二的右式即可。

三四的证明类似，不再赘述。