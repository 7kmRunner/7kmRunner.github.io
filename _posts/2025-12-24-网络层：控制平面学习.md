---
layout: post
title: "网络层：数据平面学习"
date: 2025-11-20
tags: [编程]
comments: true
author: Minrain
---
## 5.2 路由选择算法
一般而言，路由选择算法可分为集中式路由选择算法(也称为链路状态算法或LS算法)和分布式路由选择算法。两者的区别就像在线算法和非在线算法。集中式路由选择算法知晓全局信息，分布式路由选择算法只知道局部信息，通过不断迭代逼近最优解。

还有的分类方法将它分为静态路由选择算法和动态路由选择算法。以及负载敏感算法和负载钝感算法。静态动态看的是边的权重变化速率，几乎不变，人为干预变化的是静态；随时变化的动态。负载是否敏感很容易理解，负载敏感就是权的变化对算法影响很大，钝感就是影响很小。

### 5.2.1 链路状态路由选择算法
书中介绍了Dijkstra算法，并指出了拥塞敏感算法可能存在的震荡问题。

### 5.2.2 距离向量路由选择算法
这里只需要知道，每个节点x维护一张表，一共有N列，每列代表一个节点；Neighbor行，每行代表一个邻居，包括自己。有了这张表，再接收其它路由的讯息进行更新。

### 5.3 因特网中自治系统内部的路由选择：OSPF
路由选择算法当然是好的。问题在于，网络规模如果过大怎么办？方法是把整个系统切成一块块，使每个区域自治，再让多个区域联合成一大块。这也就是自治系统，AS(Autonomous System)。通常一个ISP是一个AS,享有一个AS号，不过也有一个ISP再划分成多个AS的情况。

OSPF(Open Shortest Path First),用于因特网内部路由选择。它使用Dijkstra算法，通过让每台路由器获得全局图结构(这里的边权重由管理员设定，可以全设为1)，运行算法得到最短路径。它的特点有以下几点：
1. 安全。它使用了鉴权机制，保证不会被恶意攻击。
2. 可选多条相同开销的路径。
3. 支持单播和多播。
4. 支持单个AS中的结构层次。

### 5.4 ISP间的路由选择，BGP
OSPF是AS内部的路由选择协议，BGP是AS间的路由选择协议。BGP，即Broder Gateway Protocol,边界网关选择协议。

BGP算法匹配的是前缀而不是具体的IP地址。它依据最长前缀匹配原则，确认通往目的地的最好路由。它负责的工作，好比一个包裹，从上海送到纽约，但具体在哪条街，它并不关心。

BGP为每台路由器提供了以下功能：
1. 从邻居AS获取前缀的可达信息，以及允许每个子网向因特网通知它的存在。
2. 确定到该前缀的最好路由。